{"ast":null,"code":"import _objectSpread from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MathUtils } from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { useSpring, a } from '@react-spring/three';\nimport { useGesture } from '@use-gesture/react';\n\nfunction PresentationControls(_ref) {\n  var snap = _ref.snap,\n      global = _ref.global,\n      _ref$cursor = _ref.cursor,\n      cursor = _ref$cursor === void 0 ? true : _ref$cursor,\n      children = _ref.children,\n      _ref$speed = _ref.speed,\n      speed = _ref$speed === void 0 ? 1 : _ref$speed,\n      _ref$rotation = _ref.rotation,\n      rotation = _ref$rotation === void 0 ? [0, 0, 0] : _ref$rotation,\n      _ref$zoom = _ref.zoom,\n      zoom = _ref$zoom === void 0 ? 1 : _ref$zoom,\n      _ref$polar = _ref.polar,\n      polar = _ref$polar === void 0 ? [0, Math.PI / 2] : _ref$polar,\n      _ref$azimuth = _ref.azimuth,\n      azimuth = _ref$azimuth === void 0 ? [-Infinity, Infinity] : _ref$azimuth,\n      _ref$config = _ref.config,\n      config = _ref$config === void 0 ? {\n    mass: 1,\n    tension: 170,\n    friction: 26\n  } : _ref$config;\n\n  var _useThree = useThree(),\n      size = _useThree.size,\n      gl = _useThree.gl;\n\n  var rPolar = React.useMemo(function () {\n    return [rotation[0] + polar[0], rotation[0] + polar[1]];\n  }, [rotation[0], polar[0], polar[1]]);\n  var rAzimuth = React.useMemo(function () {\n    return [rotation[1] + azimuth[0], rotation[1] + azimuth[1]];\n  }, [rotation[1], azimuth[0], azimuth[1]]);\n  var rInitial = React.useMemo(function () {\n    return [MathUtils.clamp.apply(MathUtils, [rotation[0]].concat(_toConsumableArray(rPolar))), MathUtils.clamp.apply(MathUtils, [rotation[1]].concat(_toConsumableArray(rAzimuth))), rotation[2]];\n  }, [rotation[0], rotation[1], rotation[2], rPolar, rAzimuth]);\n\n  var _useSpring = useSpring(function () {\n    return {\n      scale: 1,\n      rotation: rInitial,\n      config: config\n    };\n  }),\n      _useSpring2 = _slicedToArray(_useSpring, 2),\n      spring = _useSpring2[0],\n      api = _useSpring2[1];\n\n  React.useEffect(function () {\n    return void api.start({\n      scale: 1,\n      rotation: rInitial,\n      config: config\n    });\n  }, [rInitial]);\n  React.useEffect(function () {\n    if (global && cursor) gl.domElement.style.cursor = 'grab';\n  }, [global, cursor, gl.domElement]);\n  var bind = useGesture({\n    onHover: function onHover(_ref2) {\n      var last = _ref2.last;\n      if (cursor && !global) gl.domElement.style.cursor = last ? 'auto' : 'grab';\n    },\n    onDrag: function onDrag(_ref3) {\n      var down = _ref3.down,\n          _ref3$delta = _slicedToArray(_ref3.delta, 2),\n          x = _ref3$delta[0],\n          y = _ref3$delta[1],\n          _ref3$memo = _ref3.memo;\n\n      _ref3$memo = _ref3$memo === void 0 ? spring.rotation.animation.to || rInitial : _ref3$memo;\n\n      var _ref3$memo2 = _slicedToArray(_ref3$memo, 2),\n          oldY = _ref3$memo2[0],\n          oldX = _ref3$memo2[1];\n\n      if (cursor) gl.domElement.style.cursor = down ? 'grabbing' : 'grab';\n      x = MathUtils.clamp.apply(MathUtils, [oldX + x / size.width * Math.PI * speed].concat(_toConsumableArray(rAzimuth)));\n      y = MathUtils.clamp.apply(MathUtils, [oldY + y / size.height * Math.PI * speed].concat(_toConsumableArray(rPolar)));\n      var sConfig = snap && !down && typeof snap !== 'boolean' ? snap : config;\n      api.start({\n        scale: down && y > rPolar[1] / 2 ? zoom : 1,\n        rotation: snap && !down ? rInitial : [y, x, 0],\n        config: function config(n) {\n          return n === 'scale' ? _objectSpread(_objectSpread({}, sConfig), {}, {\n            friction: sConfig.friction * 3\n          }) : sConfig;\n        }\n      });\n      return [y, x];\n    }\n  }, {\n    target: global ? gl.domElement : undefined\n  });\n  return /*#__PURE__*/React.createElement(a.group, _extends({}, bind == null ? void 0 : bind(), spring), children);\n}\n\nexport { PresentationControls };","map":{"version":3,"sources":["/Users/arbus/Documents/SpaceInBrowser/node_modules/@react-three/drei/web/PresentationControls.js"],"names":["_extends","React","MathUtils","useThree","useSpring","a","useGesture","PresentationControls","snap","global","cursor","children","speed","rotation","zoom","polar","Math","PI","azimuth","Infinity","config","mass","tension","friction","size","gl","rPolar","useMemo","rAzimuth","rInitial","clamp","scale","spring","api","useEffect","start","domElement","style","bind","onHover","last","onDrag","down","delta","x","y","memo","animation","to","oldY","oldX","width","height","sConfig","n","target","undefined","createElement","group"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MathUtils } from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { useSpring, a } from '@react-spring/three';\nimport { useGesture } from '@use-gesture/react';\n\nfunction PresentationControls({\n  snap,\n  global,\n  cursor = true,\n  children,\n  speed = 1,\n  rotation = [0, 0, 0],\n  zoom = 1,\n  polar = [0, Math.PI / 2],\n  azimuth = [-Infinity, Infinity],\n  config = {\n    mass: 1,\n    tension: 170,\n    friction: 26\n  }\n}) {\n  const {\n    size,\n    gl\n  } = useThree();\n  const rPolar = React.useMemo(() => [rotation[0] + polar[0], rotation[0] + polar[1]], [rotation[0], polar[0], polar[1]]);\n  const rAzimuth = React.useMemo(() => [rotation[1] + azimuth[0], rotation[1] + azimuth[1]], [rotation[1], azimuth[0], azimuth[1]]);\n  const rInitial = React.useMemo(() => [MathUtils.clamp(rotation[0], ...rPolar), MathUtils.clamp(rotation[1], ...rAzimuth), rotation[2]], [rotation[0], rotation[1], rotation[2], rPolar, rAzimuth]);\n  const [spring, api] = useSpring(() => ({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }));\n  React.useEffect(() => void api.start({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }), [rInitial]);\n  React.useEffect(() => {\n    if (global && cursor) gl.domElement.style.cursor = 'grab';\n  }, [global, cursor, gl.domElement]);\n  const bind = useGesture({\n    onHover: ({\n      last\n    }) => {\n      if (cursor && !global) gl.domElement.style.cursor = last ? 'auto' : 'grab';\n    },\n    onDrag: ({\n      down,\n      delta: [x, y],\n      memo: [oldY, oldX] = spring.rotation.animation.to || rInitial\n    }) => {\n      if (cursor) gl.domElement.style.cursor = down ? 'grabbing' : 'grab';\n      x = MathUtils.clamp(oldX + x / size.width * Math.PI * speed, ...rAzimuth);\n      y = MathUtils.clamp(oldY + y / size.height * Math.PI * speed, ...rPolar);\n      const sConfig = snap && !down && typeof snap !== 'boolean' ? snap : config;\n      api.start({\n        scale: down && y > rPolar[1] / 2 ? zoom : 1,\n        rotation: snap && !down ? rInitial : [y, x, 0],\n        config: n => n === 'scale' ? { ...sConfig,\n          friction: sConfig.friction * 3\n        } : sConfig\n      });\n      return [y, x];\n    }\n  }, {\n    target: global ? gl.domElement : undefined\n  });\n  return /*#__PURE__*/React.createElement(a.group, _extends({}, bind == null ? void 0 : bind(), spring), children);\n}\n\nexport { PresentationControls };\n"]},"metadata":{},"sourceType":"module"}