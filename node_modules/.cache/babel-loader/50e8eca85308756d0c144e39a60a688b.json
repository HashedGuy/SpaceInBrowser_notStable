{"ast":null,"code":"import _classCallCheck from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Loader, FileLoader, BufferGeometry, Float32BufferAttribute } from 'three';\n\nvar PDBLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(PDBLoader, _Loader);\n\n  var _super = _createSuper(PDBLoader);\n\n  function PDBLoader(manager) {\n    _classCallCheck(this, PDBLoader);\n\n    return _super.call(this, manager);\n  }\n\n  _createClass(PDBLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var loader = new FileLoader(scope.manager);\n      loader.setPath(scope.path);\n      loader.setRequestHeader(scope.requestHeader);\n      loader.setWithCredentials(scope.withCredentials);\n      loader.load(url, function (text) {\n        try {\n          onLoad(scope.parse(text));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          scope.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    } // Based on CanvasMol PDB parser\n\n  }, {\n    key: \"parse\",\n    value: function parse(text) {\n      function trim(text) {\n        return text.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n      }\n\n      function capitalize(text) {\n        return text.charAt(0).toUpperCase() + text.substr(1).toLowerCase();\n      }\n\n      function hash(s, e) {\n        return 's' + Math.min(s, e) + 'e' + Math.max(s, e);\n      }\n\n      function parseBond(start, length, satom, i) {\n        var eatom = parseInt(lines[i].substr(start, length));\n\n        if (eatom) {\n          var h = hash(satom, eatom);\n\n          if (_bhash[h] === undefined) {\n            _bonds.push([satom - 1, eatom - 1, 1]);\n\n            _bhash[h] = _bonds.length - 1;\n          }\n        }\n      }\n\n      function buildGeometry() {\n        var build = {\n          geometryAtoms: new BufferGeometry(),\n          geometryBonds: new BufferGeometry(),\n          json: {\n            atoms: atoms\n          }\n        };\n        var geometryAtoms = build.geometryAtoms;\n        var geometryBonds = build.geometryBonds;\n        var verticesAtoms = [];\n        var colorsAtoms = [];\n        var verticesBonds = []; // atoms\n\n        for (var i = 0, l = atoms.length; i < l; i++) {\n          var atom = atoms[i];\n          var x = atom[0];\n          var y = atom[1];\n          var z = atom[2];\n          verticesAtoms.push(x, y, z);\n          var r = atom[3][0] / 255;\n          var g = atom[3][1] / 255;\n          var b = atom[3][2] / 255;\n          colorsAtoms.push(r, g, b);\n        } // bonds\n\n\n        for (var _i = 0, _l = _bonds.length; _i < _l; _i++) {\n          var bond = _bonds[_i];\n          var start = bond[0];\n          var end = bond[1];\n          var startAtom = _atomMap[start];\n          var endAtom = _atomMap[end];\n          var _x = startAtom[0];\n          var _y = startAtom[1];\n          var _z = startAtom[2];\n          verticesBonds.push(_x, _y, _z);\n          _x = endAtom[0];\n          _y = endAtom[1];\n          _z = endAtom[2];\n          verticesBonds.push(_x, _y, _z);\n        } // build geometry\n\n\n        geometryAtoms.setAttribute('position', new Float32BufferAttribute(verticesAtoms, 3));\n        geometryAtoms.setAttribute('color', new Float32BufferAttribute(colorsAtoms, 3));\n        geometryBonds.setAttribute('position', new Float32BufferAttribute(verticesBonds, 3));\n        return build;\n      }\n\n      var CPK = {\n        h: [255, 255, 255],\n        he: [217, 255, 255],\n        li: [204, 128, 255],\n        be: [194, 255, 0],\n        b: [255, 181, 181],\n        c: [144, 144, 144],\n        n: [48, 80, 248],\n        o: [255, 13, 13],\n        f: [144, 224, 80],\n        ne: [179, 227, 245],\n        na: [171, 92, 242],\n        mg: [138, 255, 0],\n        al: [191, 166, 166],\n        si: [240, 200, 160],\n        p: [255, 128, 0],\n        s: [255, 255, 48],\n        cl: [31, 240, 31],\n        ar: [128, 209, 227],\n        k: [143, 64, 212],\n        ca: [61, 255, 0],\n        sc: [230, 230, 230],\n        ti: [191, 194, 199],\n        v: [166, 166, 171],\n        cr: [138, 153, 199],\n        mn: [156, 122, 199],\n        fe: [224, 102, 51],\n        co: [240, 144, 160],\n        ni: [80, 208, 80],\n        cu: [200, 128, 51],\n        zn: [125, 128, 176],\n        ga: [194, 143, 143],\n        ge: [102, 143, 143],\n        as: [189, 128, 227],\n        se: [255, 161, 0],\n        br: [166, 41, 41],\n        kr: [92, 184, 209],\n        rb: [112, 46, 176],\n        sr: [0, 255, 0],\n        y: [148, 255, 255],\n        zr: [148, 224, 224],\n        nb: [115, 194, 201],\n        mo: [84, 181, 181],\n        tc: [59, 158, 158],\n        ru: [36, 143, 143],\n        rh: [10, 125, 140],\n        pd: [0, 105, 133],\n        ag: [192, 192, 192],\n        cd: [255, 217, 143],\n        in: [166, 117, 115],\n        sn: [102, 128, 128],\n        sb: [158, 99, 181],\n        te: [212, 122, 0],\n        i: [148, 0, 148],\n        xe: [66, 158, 176],\n        cs: [87, 23, 143],\n        ba: [0, 201, 0],\n        la: [112, 212, 255],\n        ce: [255, 255, 199],\n        pr: [217, 255, 199],\n        nd: [199, 255, 199],\n        pm: [163, 255, 199],\n        sm: [143, 255, 199],\n        eu: [97, 255, 199],\n        gd: [69, 255, 199],\n        tb: [48, 255, 199],\n        dy: [31, 255, 199],\n        ho: [0, 255, 156],\n        er: [0, 230, 117],\n        tm: [0, 212, 82],\n        yb: [0, 191, 56],\n        lu: [0, 171, 36],\n        hf: [77, 194, 255],\n        ta: [77, 166, 255],\n        w: [33, 148, 214],\n        re: [38, 125, 171],\n        os: [38, 102, 150],\n        ir: [23, 84, 135],\n        pt: [208, 208, 224],\n        au: [255, 209, 35],\n        hg: [184, 184, 208],\n        tl: [166, 84, 77],\n        pb: [87, 89, 97],\n        bi: [158, 79, 181],\n        po: [171, 92, 0],\n        at: [117, 79, 69],\n        rn: [66, 130, 150],\n        fr: [66, 0, 102],\n        ra: [0, 125, 0],\n        ac: [112, 171, 250],\n        th: [0, 186, 255],\n        pa: [0, 161, 255],\n        u: [0, 143, 255],\n        np: [0, 128, 255],\n        pu: [0, 107, 255],\n        am: [84, 92, 242],\n        cm: [120, 92, 227],\n        bk: [138, 79, 227],\n        cf: [161, 54, 212],\n        es: [179, 31, 212],\n        fm: [179, 31, 186],\n        md: [179, 13, 166],\n        no: [189, 13, 135],\n        lr: [199, 0, 102],\n        rf: [204, 0, 89],\n        db: [209, 0, 79],\n        sg: [217, 0, 69],\n        bh: [224, 0, 56],\n        hs: [230, 0, 46],\n        mt: [235, 0, 38],\n        ds: [235, 0, 38],\n        rg: [235, 0, 38],\n        cn: [235, 0, 38],\n        uut: [235, 0, 38],\n        uuq: [235, 0, 38],\n        uup: [235, 0, 38],\n        uuh: [235, 0, 38],\n        uus: [235, 0, 38],\n        uuo: [235, 0, 38]\n      };\n      var atoms = [];\n      var _bonds = [];\n      var _bhash = {};\n      var _atomMap = {}; // parse\n\n      var lines = text.split('\\n');\n\n      for (var i = 0, l = lines.length; i < l; i++) {\n        if (lines[i].substr(0, 4) === 'ATOM' || lines[i].substr(0, 6) === 'HETATM') {\n          var x = parseFloat(lines[i].substr(30, 7));\n          var y = parseFloat(lines[i].substr(38, 7));\n          var z = parseFloat(lines[i].substr(46, 7));\n          var index = parseInt(lines[i].substr(6, 5)) - 1;\n          var e = trim(lines[i].substr(76, 2)).toLowerCase();\n\n          if (e === '') {\n            e = trim(lines[i].substr(12, 2)).toLowerCase();\n          }\n\n          var atomData = [x, y, z, CPK[e], capitalize(e)];\n          atoms.push(atomData);\n          _atomMap[index] = atomData;\n        } else if (lines[i].substr(0, 6) === 'CONECT') {\n          var satom = parseInt(lines[i].substr(6, 5));\n          parseBond(11, 5, satom, i);\n          parseBond(16, 5, satom, i);\n          parseBond(21, 5, satom, i);\n          parseBond(26, 5, satom, i);\n        }\n      } // build and return geometry\n\n\n      return buildGeometry();\n    }\n  }]);\n\n  return PDBLoader;\n}(Loader);\n\nexport { PDBLoader };","map":{"version":3,"sources":["/Users/arbus/Documents/SpaceInBrowser/node_modules/three-stdlib/loaders/PDBLoader.js"],"names":["Loader","FileLoader","BufferGeometry","Float32BufferAttribute","PDBLoader","manager","url","onLoad","onProgress","onError","scope","loader","setPath","path","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","text","parse","e","console","error","itemError","trim","replace","capitalize","charAt","toUpperCase","substr","toLowerCase","hash","s","Math","min","max","parseBond","start","length","satom","i","eatom","parseInt","lines","h","_bhash","undefined","_bonds","push","buildGeometry","build","geometryAtoms","geometryBonds","json","atoms","verticesAtoms","colorsAtoms","verticesBonds","l","atom","x","y","z","r","g","b","bond","end","startAtom","_atomMap","endAtom","setAttribute","CPK","he","li","be","c","n","o","f","ne","na","mg","al","si","p","cl","ar","k","ca","sc","ti","v","cr","mn","fe","co","ni","cu","zn","ga","ge","as","se","br","kr","rb","sr","zr","nb","mo","tc","ru","rh","pd","ag","cd","in","sn","sb","te","xe","cs","ba","la","ce","pr","nd","pm","sm","eu","gd","tb","dy","ho","er","tm","yb","lu","hf","ta","w","re","os","ir","pt","au","hg","tl","pb","bi","po","at","rn","fr","ra","ac","th","pa","u","np","pu","am","cm","bk","cf","es","fm","md","no","lr","rf","db","sg","bh","hs","mt","ds","rg","cn","uut","uuq","uup","uuh","uus","uuo","split","parseFloat","index","atomData"],"mappings":"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","sourcesContent":["import { Loader, FileLoader, BufferGeometry, Float32BufferAttribute } from 'three';\n\nclass PDBLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    const loader = new FileLoader(scope.manager);\n    loader.setPath(scope.path);\n    loader.setRequestHeader(scope.requestHeader);\n    loader.setWithCredentials(scope.withCredentials);\n    loader.load(url, function (text) {\n      try {\n        onLoad(scope.parse(text));\n      } catch (e) {\n        if (onError) {\n          onError(e);\n        } else {\n          console.error(e);\n        }\n\n        scope.manager.itemError(url);\n      }\n    }, onProgress, onError);\n  } // Based on CanvasMol PDB parser\n\n\n  parse(text) {\n    function trim(text) {\n      return text.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    }\n\n    function capitalize(text) {\n      return text.charAt(0).toUpperCase() + text.substr(1).toLowerCase();\n    }\n\n    function hash(s, e) {\n      return 's' + Math.min(s, e) + 'e' + Math.max(s, e);\n    }\n\n    function parseBond(start, length, satom, i) {\n      const eatom = parseInt(lines[i].substr(start, length));\n\n      if (eatom) {\n        const h = hash(satom, eatom);\n\n        if (_bhash[h] === undefined) {\n          _bonds.push([satom - 1, eatom - 1, 1]);\n\n          _bhash[h] = _bonds.length - 1;\n        }\n      }\n    }\n\n    function buildGeometry() {\n      const build = {\n        geometryAtoms: new BufferGeometry(),\n        geometryBonds: new BufferGeometry(),\n        json: {\n          atoms: atoms\n        }\n      };\n      const geometryAtoms = build.geometryAtoms;\n      const geometryBonds = build.geometryBonds;\n      const verticesAtoms = [];\n      const colorsAtoms = [];\n      const verticesBonds = []; // atoms\n\n      for (let i = 0, l = atoms.length; i < l; i++) {\n        const atom = atoms[i];\n        const x = atom[0];\n        const y = atom[1];\n        const z = atom[2];\n        verticesAtoms.push(x, y, z);\n        const r = atom[3][0] / 255;\n        const g = atom[3][1] / 255;\n        const b = atom[3][2] / 255;\n        colorsAtoms.push(r, g, b);\n      } // bonds\n\n\n      for (let i = 0, l = _bonds.length; i < l; i++) {\n        const bond = _bonds[i];\n        const start = bond[0];\n        const end = bond[1];\n        const startAtom = _atomMap[start];\n        const endAtom = _atomMap[end];\n        let x = startAtom[0];\n        let y = startAtom[1];\n        let z = startAtom[2];\n        verticesBonds.push(x, y, z);\n        x = endAtom[0];\n        y = endAtom[1];\n        z = endAtom[2];\n        verticesBonds.push(x, y, z);\n      } // build geometry\n\n\n      geometryAtoms.setAttribute('position', new Float32BufferAttribute(verticesAtoms, 3));\n      geometryAtoms.setAttribute('color', new Float32BufferAttribute(colorsAtoms, 3));\n      geometryBonds.setAttribute('position', new Float32BufferAttribute(verticesBonds, 3));\n      return build;\n    }\n\n    const CPK = {\n      h: [255, 255, 255],\n      he: [217, 255, 255],\n      li: [204, 128, 255],\n      be: [194, 255, 0],\n      b: [255, 181, 181],\n      c: [144, 144, 144],\n      n: [48, 80, 248],\n      o: [255, 13, 13],\n      f: [144, 224, 80],\n      ne: [179, 227, 245],\n      na: [171, 92, 242],\n      mg: [138, 255, 0],\n      al: [191, 166, 166],\n      si: [240, 200, 160],\n      p: [255, 128, 0],\n      s: [255, 255, 48],\n      cl: [31, 240, 31],\n      ar: [128, 209, 227],\n      k: [143, 64, 212],\n      ca: [61, 255, 0],\n      sc: [230, 230, 230],\n      ti: [191, 194, 199],\n      v: [166, 166, 171],\n      cr: [138, 153, 199],\n      mn: [156, 122, 199],\n      fe: [224, 102, 51],\n      co: [240, 144, 160],\n      ni: [80, 208, 80],\n      cu: [200, 128, 51],\n      zn: [125, 128, 176],\n      ga: [194, 143, 143],\n      ge: [102, 143, 143],\n      as: [189, 128, 227],\n      se: [255, 161, 0],\n      br: [166, 41, 41],\n      kr: [92, 184, 209],\n      rb: [112, 46, 176],\n      sr: [0, 255, 0],\n      y: [148, 255, 255],\n      zr: [148, 224, 224],\n      nb: [115, 194, 201],\n      mo: [84, 181, 181],\n      tc: [59, 158, 158],\n      ru: [36, 143, 143],\n      rh: [10, 125, 140],\n      pd: [0, 105, 133],\n      ag: [192, 192, 192],\n      cd: [255, 217, 143],\n      in: [166, 117, 115],\n      sn: [102, 128, 128],\n      sb: [158, 99, 181],\n      te: [212, 122, 0],\n      i: [148, 0, 148],\n      xe: [66, 158, 176],\n      cs: [87, 23, 143],\n      ba: [0, 201, 0],\n      la: [112, 212, 255],\n      ce: [255, 255, 199],\n      pr: [217, 255, 199],\n      nd: [199, 255, 199],\n      pm: [163, 255, 199],\n      sm: [143, 255, 199],\n      eu: [97, 255, 199],\n      gd: [69, 255, 199],\n      tb: [48, 255, 199],\n      dy: [31, 255, 199],\n      ho: [0, 255, 156],\n      er: [0, 230, 117],\n      tm: [0, 212, 82],\n      yb: [0, 191, 56],\n      lu: [0, 171, 36],\n      hf: [77, 194, 255],\n      ta: [77, 166, 255],\n      w: [33, 148, 214],\n      re: [38, 125, 171],\n      os: [38, 102, 150],\n      ir: [23, 84, 135],\n      pt: [208, 208, 224],\n      au: [255, 209, 35],\n      hg: [184, 184, 208],\n      tl: [166, 84, 77],\n      pb: [87, 89, 97],\n      bi: [158, 79, 181],\n      po: [171, 92, 0],\n      at: [117, 79, 69],\n      rn: [66, 130, 150],\n      fr: [66, 0, 102],\n      ra: [0, 125, 0],\n      ac: [112, 171, 250],\n      th: [0, 186, 255],\n      pa: [0, 161, 255],\n      u: [0, 143, 255],\n      np: [0, 128, 255],\n      pu: [0, 107, 255],\n      am: [84, 92, 242],\n      cm: [120, 92, 227],\n      bk: [138, 79, 227],\n      cf: [161, 54, 212],\n      es: [179, 31, 212],\n      fm: [179, 31, 186],\n      md: [179, 13, 166],\n      no: [189, 13, 135],\n      lr: [199, 0, 102],\n      rf: [204, 0, 89],\n      db: [209, 0, 79],\n      sg: [217, 0, 69],\n      bh: [224, 0, 56],\n      hs: [230, 0, 46],\n      mt: [235, 0, 38],\n      ds: [235, 0, 38],\n      rg: [235, 0, 38],\n      cn: [235, 0, 38],\n      uut: [235, 0, 38],\n      uuq: [235, 0, 38],\n      uup: [235, 0, 38],\n      uuh: [235, 0, 38],\n      uus: [235, 0, 38],\n      uuo: [235, 0, 38]\n    };\n    const atoms = [];\n    const _bonds = [];\n    const _bhash = {};\n    const _atomMap = {}; // parse\n\n    const lines = text.split('\\n');\n\n    for (let i = 0, l = lines.length; i < l; i++) {\n      if (lines[i].substr(0, 4) === 'ATOM' || lines[i].substr(0, 6) === 'HETATM') {\n        const x = parseFloat(lines[i].substr(30, 7));\n        const y = parseFloat(lines[i].substr(38, 7));\n        const z = parseFloat(lines[i].substr(46, 7));\n        const index = parseInt(lines[i].substr(6, 5)) - 1;\n        let e = trim(lines[i].substr(76, 2)).toLowerCase();\n\n        if (e === '') {\n          e = trim(lines[i].substr(12, 2)).toLowerCase();\n        }\n\n        const atomData = [x, y, z, CPK[e], capitalize(e)];\n        atoms.push(atomData);\n        _atomMap[index] = atomData;\n      } else if (lines[i].substr(0, 6) === 'CONECT') {\n        const satom = parseInt(lines[i].substr(6, 5));\n        parseBond(11, 5, satom, i);\n        parseBond(16, 5, satom, i);\n        parseBond(21, 5, satom, i);\n        parseBond(26, 5, satom, i);\n      }\n    } // build and return geometry\n\n\n    return buildGeometry();\n  }\n\n}\n\nexport { PDBLoader };\n"]},"metadata":{},"sourceType":"module"}