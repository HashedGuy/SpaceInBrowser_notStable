{"ast":null,"code":"import * as React from 'react';\nimport { acceleratedRaycast, computeBoundsTree, disposeBoundsTree } from 'three-mesh-bvh';\n\nfunction useBVH(mesh, options) {\n  React.useEffect(function () {\n    if (mesh.current) {\n      mesh.current.raycast = acceleratedRaycast;\n      var geometry = mesh.current.geometry;\n      geometry.computeBoundsTree = computeBoundsTree;\n      geometry.disposeBoundsTree = disposeBoundsTree;\n      geometry.computeBoundsTree(options);\n      return function () {\n        if (geometry.boundsTree) {\n          geometry.disposeBoundsTree();\n        }\n      };\n    }\n  }, [mesh, options]);\n}\n\nexport { useBVH };","map":{"version":3,"sources":["/Users/arbus/Documents/SpaceInBrowser/node_modules/@react-three/drei/core/useBVH.js"],"names":["React","acceleratedRaycast","computeBoundsTree","disposeBoundsTree","useBVH","mesh","options","useEffect","current","raycast","geometry","boundsTree"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,kBAAT,EAA6BC,iBAA7B,EAAgDC,iBAAhD,QAAyE,gBAAzE;;AAEA,SAASC,MAAT,CAAgBC,IAAhB,EAAsBC,OAAtB,EAA+B;AAC7BN,EAAAA,KAAK,CAACO,SAAN,CAAgB,YAAM;AACpB,QAAIF,IAAI,CAACG,OAAT,EAAkB;AAChBH,MAAAA,IAAI,CAACG,OAAL,CAAaC,OAAb,GAAuBR,kBAAvB;AACA,UAAMS,QAAQ,GAAGL,IAAI,CAACG,OAAL,CAAaE,QAA9B;AACAA,MAAAA,QAAQ,CAACR,iBAAT,GAA6BA,iBAA7B;AACAQ,MAAAA,QAAQ,CAACP,iBAAT,GAA6BA,iBAA7B;AACAO,MAAAA,QAAQ,CAACR,iBAAT,CAA2BI,OAA3B;AACA,aAAO,YAAM;AACX,YAAII,QAAQ,CAACC,UAAb,EAAyB;AACvBD,UAAAA,QAAQ,CAACP,iBAAT;AACD;AACF,OAJD;AAKD;AACF,GAbD,EAaG,CAACE,IAAD,EAAOC,OAAP,CAbH;AAcD;;AAED,SAASF,MAAT","sourcesContent":["import * as React from 'react';\nimport { acceleratedRaycast, computeBoundsTree, disposeBoundsTree } from 'three-mesh-bvh';\n\nfunction useBVH(mesh, options) {\n  React.useEffect(() => {\n    if (mesh.current) {\n      mesh.current.raycast = acceleratedRaycast;\n      const geometry = mesh.current.geometry;\n      geometry.computeBoundsTree = computeBoundsTree;\n      geometry.disposeBoundsTree = disposeBoundsTree;\n      geometry.computeBoundsTree(options);\n      return () => {\n        if (geometry.boundsTree) {\n          geometry.disposeBoundsTree();\n        }\n      };\n    }\n  }, [mesh, options]);\n}\n\nexport { useBVH };\n"]},"metadata":{},"sourceType":"module"}