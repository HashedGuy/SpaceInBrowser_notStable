{"ast":null,"code":"import _asyncToGenerator from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/regenerator/index.js\";\nimport * as React from 'react';\nimport { useTexture } from './useTexture.js';\nimport { RepeatWrapping, Vector2 } from 'three';\nimport { useAsset } from 'use-asset';\nvar NORMAL_ROOT = 'https://rawcdn.githack.com/pmndrs/drei-assets/7a3104997e1576f83472829815b00880d88b32fb';\nvar LIST_URL = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/normals/normals.json';\n\nfunction useNormalTexture() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _settings$repeat = settings.repeat,\n      repeat = _settings$repeat === void 0 ? [1, 1] : _settings$repeat,\n      _settings$anisotropy = settings.anisotropy,\n      anisotropy = _settings$anisotropy === void 0 ? 1 : _settings$anisotropy,\n      _settings$offset = settings.offset,\n      offset = _settings$offset === void 0 ? [0, 0] : _settings$offset;\n  var normalsList = useAsset(function () {\n    return new Promise( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve) {\n        var normalsList;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(LIST_URL).then(function (res) {\n                  return res.json();\n                });\n\n              case 2:\n                normalsList = _context.sent;\n                resolve(normalsList);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }, 'normalsList');\n  var numTot = React.useMemo(function () {\n    return Object.keys(normalsList).length;\n  }, []);\n  var DEFAULT_NORMAL = normalsList[0];\n  var imageName = normalsList[id] || DEFAULT_NORMAL;\n  var url = \"\".concat(NORMAL_ROOT, \"/normals/\").concat(imageName);\n  var normalTexture = useTexture(url);\n  React.useLayoutEffect(function () {\n    if (!normalTexture) return;\n    normalTexture.wrapS = normalTexture.wrapT = RepeatWrapping;\n    normalTexture.repeat = new Vector2(repeat[0], repeat[1]);\n    normalTexture.offset = new Vector2(offset[0], offset[1]);\n    normalTexture.anisotropy = anisotropy;\n  }, [normalTexture, anisotropy, repeat, offset]);\n  return [normalTexture, url, numTot];\n}\n\nexport { useNormalTexture };","map":{"version":3,"sources":["/Users/arbus/Documents/SpaceInBrowser/node_modules/@react-three/drei/core/useNormalTexture.js"],"names":["React","useTexture","RepeatWrapping","Vector2","useAsset","NORMAL_ROOT","LIST_URL","useNormalTexture","id","settings","repeat","anisotropy","offset","normalsList","Promise","resolve","fetch","then","res","json","numTot","useMemo","Object","keys","length","DEFAULT_NORMAL","imageName","url","normalTexture","useLayoutEffect","wrapS","wrapT"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,cAAT,EAAyBC,OAAzB,QAAwC,OAAxC;AACA,SAASC,QAAT,QAAyB,WAAzB;AAEA,IAAMC,WAAW,GAAG,wFAApB;AACA,IAAMC,QAAQ,GAAG,4EAAjB;;AACA,SAASC,gBAAT,GAAiD;AAAA,MAAvBC,EAAuB,uEAAlB,CAAkB;AAAA,MAAfC,QAAe,uEAAJ,EAAI;AAC/C,yBAIIA,QAJJ,CACEC,MADF;AAAA,MACEA,MADF,iCACW,CAAC,CAAD,EAAI,CAAJ,CADX;AAAA,6BAIID,QAJJ,CAEEE,UAFF;AAAA,MAEEA,UAFF,qCAEe,CAFf;AAAA,yBAIIF,QAJJ,CAGEG,MAHF;AAAA,MAGEA,MAHF,iCAGW,CAAC,CAAD,EAAI,CAAJ,CAHX;AAKA,MAAMC,WAAW,GAAGT,QAAQ,CAAC;AAAA,WAAM,IAAIU,OAAJ;AAAA,0EAAY,iBAAMC,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACnBC,KAAK,CAACV,QAAD,CAAL,CAAgBW,IAAhB,CAAqB,UAAAC,GAAG;AAAA,yBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,iBAAxB,CADmB;;AAAA;AACvCN,gBAAAA,WADuC;AAE7CE,gBAAAA,OAAO,CAACF,WAAD,CAAP;;AAF6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAZ;;AAAA;AAAA;AAAA;AAAA,QAAN;AAAA,GAAD,EAGxB,aAHwB,CAA5B;AAIA,MAAMO,MAAM,GAAGpB,KAAK,CAACqB,OAAN,CAAc;AAAA,WAAMC,MAAM,CAACC,IAAP,CAAYV,WAAZ,EAAyBW,MAA/B;AAAA,GAAd,EAAqD,EAArD,CAAf;AACA,MAAMC,cAAc,GAAGZ,WAAW,CAAC,CAAD,CAAlC;AACA,MAAMa,SAAS,GAAGb,WAAW,CAACL,EAAD,CAAX,IAAmBiB,cAArC;AACA,MAAME,GAAG,aAAMtB,WAAN,sBAA6BqB,SAA7B,CAAT;AACA,MAAME,aAAa,GAAG3B,UAAU,CAAC0B,GAAD,CAAhC;AACA3B,EAAAA,KAAK,CAAC6B,eAAN,CAAsB,YAAM;AAC1B,QAAI,CAACD,aAAL,EAAoB;AACpBA,IAAAA,aAAa,CAACE,KAAd,GAAsBF,aAAa,CAACG,KAAd,GAAsB7B,cAA5C;AACA0B,IAAAA,aAAa,CAAClB,MAAd,GAAuB,IAAIP,OAAJ,CAAYO,MAAM,CAAC,CAAD,CAAlB,EAAuBA,MAAM,CAAC,CAAD,CAA7B,CAAvB;AACAkB,IAAAA,aAAa,CAAChB,MAAd,GAAuB,IAAIT,OAAJ,CAAYS,MAAM,CAAC,CAAD,CAAlB,EAAuBA,MAAM,CAAC,CAAD,CAA7B,CAAvB;AACAgB,IAAAA,aAAa,CAACjB,UAAd,GAA2BA,UAA3B;AACD,GAND,EAMG,CAACiB,aAAD,EAAgBjB,UAAhB,EAA4BD,MAA5B,EAAoCE,MAApC,CANH;AAOA,SAAO,CAACgB,aAAD,EAAgBD,GAAhB,EAAqBP,MAArB,CAAP;AACD;;AAED,SAASb,gBAAT","sourcesContent":["import * as React from 'react';\nimport { useTexture } from './useTexture.js';\nimport { RepeatWrapping, Vector2 } from 'three';\nimport { useAsset } from 'use-asset';\n\nconst NORMAL_ROOT = 'https://rawcdn.githack.com/pmndrs/drei-assets/7a3104997e1576f83472829815b00880d88b32fb';\nconst LIST_URL = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/normals/normals.json';\nfunction useNormalTexture(id = 0, settings = {}) {\n  const {\n    repeat = [1, 1],\n    anisotropy = 1,\n    offset = [0, 0]\n  } = settings;\n  const normalsList = useAsset(() => new Promise(async resolve => {\n    const normalsList = await fetch(LIST_URL).then(res => res.json());\n    resolve(normalsList);\n  }), 'normalsList');\n  const numTot = React.useMemo(() => Object.keys(normalsList).length, []);\n  const DEFAULT_NORMAL = normalsList[0];\n  const imageName = normalsList[id] || DEFAULT_NORMAL;\n  const url = `${NORMAL_ROOT}/normals/${imageName}`;\n  const normalTexture = useTexture(url);\n  React.useLayoutEffect(() => {\n    if (!normalTexture) return;\n    normalTexture.wrapS = normalTexture.wrapT = RepeatWrapping;\n    normalTexture.repeat = new Vector2(repeat[0], repeat[1]);\n    normalTexture.offset = new Vector2(offset[0], offset[1]);\n    normalTexture.anisotropy = anisotropy;\n  }, [normalTexture, anisotropy, repeat, offset]);\n  return [normalTexture, url, numTot];\n}\n\nexport { useNormalTexture };\n"]},"metadata":{},"sourceType":"module"}