{"ast":null,"code":"import _slicedToArray from \"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { createPortal } from '@react-three/fiber';\nimport { Flow } from 'three-stdlib';\nvar CurveModifier = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      curve = _ref.curve;\n\n  var _React$useState = React.useState(function () {\n    return new THREE.Scene();\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      scene = _React$useState2[0];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      obj = _React$useState4[0],\n      set = _React$useState4[1];\n\n  var modifier = React.useRef();\n  React.useEffect(function () {\n    modifier.current = new Flow(scene.children[0]);\n    set(modifier.current.object3D);\n  }, [children]);\n  React.useEffect(function () {\n    var _modifier$current;\n\n    if (curve) (_modifier$current = modifier.current) == null ? void 0 : _modifier$current.updateCurve(0, curve);\n  }, [curve]);\n  React.useImperativeHandle(ref, function () {\n    return {\n      moveAlongCurve: function moveAlongCurve(val) {\n        var _modifier$current2;\n\n        (_modifier$current2 = modifier.current) == null ? void 0 : _modifier$current2.moveAlongCurve(val);\n      }\n    };\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(children, scene), obj && /*#__PURE__*/React.createElement(\"primitive\", {\n    object: obj\n  }));\n});\nexport { CurveModifier };","map":{"version":3,"sources":["/Users/arbus/Documents/SpaceInBrowser/node_modules/@react-three/drei/core/CurveModifier.js"],"names":["React","THREE","createPortal","Flow","CurveModifier","forwardRef","ref","children","curve","useState","Scene","scene","obj","set","modifier","useRef","useEffect","current","object3D","_modifier$current","updateCurve","useImperativeHandle","moveAlongCurve","val","_modifier$current2","createElement","Fragment","object"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,YAAT,QAA6B,oBAA7B;AACA,SAASC,IAAT,QAAqB,cAArB;AAEA,IAAMC,aAAa,GAAG,aAAaJ,KAAK,CAACK,UAAN,CAAiB,gBAGjDC,GAHiD,EAGzC;AAAA,MAFTC,QAES,QAFTA,QAES;AAAA,MADTC,KACS,QADTA,KACS;;AACT,wBAAgBR,KAAK,CAACS,QAAN,CAAe;AAAA,WAAM,IAAIR,KAAK,CAACS,KAAV,EAAN;AAAA,GAAf,CAAhB;AAAA;AAAA,MAAOC,KAAP;;AACA,yBAAmBX,KAAK,CAACS,QAAN,EAAnB;AAAA;AAAA,MAAOG,GAAP;AAAA,MAAYC,GAAZ;;AACA,MAAMC,QAAQ,GAAGd,KAAK,CAACe,MAAN,EAAjB;AACAf,EAAAA,KAAK,CAACgB,SAAN,CAAgB,YAAM;AACpBF,IAAAA,QAAQ,CAACG,OAAT,GAAmB,IAAId,IAAJ,CAASQ,KAAK,CAACJ,QAAN,CAAe,CAAf,CAAT,CAAnB;AACAM,IAAAA,GAAG,CAACC,QAAQ,CAACG,OAAT,CAAiBC,QAAlB,CAAH;AACD,GAHD,EAGG,CAACX,QAAD,CAHH;AAIAP,EAAAA,KAAK,CAACgB,SAAN,CAAgB,YAAM;AACpB,QAAIG,iBAAJ;;AAEA,QAAIX,KAAJ,EAAW,CAACW,iBAAiB,GAAGL,QAAQ,CAACG,OAA9B,KAA0C,IAA1C,GAAiD,KAAK,CAAtD,GAA0DE,iBAAiB,CAACC,WAAlB,CAA8B,CAA9B,EAAiCZ,KAAjC,CAA1D;AACZ,GAJD,EAIG,CAACA,KAAD,CAJH;AAKAR,EAAAA,KAAK,CAACqB,mBAAN,CAA0Bf,GAA1B,EAA+B;AAAA,WAAO;AACpCgB,MAAAA,cAAc,EAAE,wBAAAC,GAAG,EAAI;AACrB,YAAIC,kBAAJ;;AAEA,SAACA,kBAAkB,GAAGV,QAAQ,CAACG,OAA/B,KAA2C,IAA3C,GAAkD,KAAK,CAAvD,GAA2DO,kBAAkB,CAACF,cAAnB,CAAkCC,GAAlC,CAA3D;AACD;AALmC,KAAP;AAAA,GAA/B;AAOA,SAAO,aAAavB,KAAK,CAACyB,aAAN,CAAoBzB,KAAK,CAAC0B,QAA1B,EAAoC,IAApC,EAA0CxB,YAAY,CAACK,QAAD,EAAWI,KAAX,CAAtD,EAAyEC,GAAG,IAAI,aAAaZ,KAAK,CAACyB,aAAN,CAAoB,WAApB,EAAiC;AAChJE,IAAAA,MAAM,EAAEf;AADwI,GAAjC,CAA7F,CAApB;AAGD,CA1BkC,CAAnC;AA4BA,SAASR,aAAT","sourcesContent":["import * as React from 'react';\nimport * as THREE from 'three';\nimport { createPortal } from '@react-three/fiber';\nimport { Flow } from 'three-stdlib';\n\nconst CurveModifier = /*#__PURE__*/React.forwardRef(({\n  children,\n  curve\n}, ref) => {\n  const [scene] = React.useState(() => new THREE.Scene());\n  const [obj, set] = React.useState();\n  const modifier = React.useRef();\n  React.useEffect(() => {\n    modifier.current = new Flow(scene.children[0]);\n    set(modifier.current.object3D);\n  }, [children]);\n  React.useEffect(() => {\n    var _modifier$current;\n\n    if (curve) (_modifier$current = modifier.current) == null ? void 0 : _modifier$current.updateCurve(0, curve);\n  }, [curve]);\n  React.useImperativeHandle(ref, () => ({\n    moveAlongCurve: val => {\n      var _modifier$current2;\n\n      (_modifier$current2 = modifier.current) == null ? void 0 : _modifier$current2.moveAlongCurve(val);\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(children, scene), obj && /*#__PURE__*/React.createElement(\"primitive\", {\n    object: obj\n  }));\n});\n\nexport { CurveModifier };\n"]},"metadata":{},"sourceType":"module"}